<!-- Autor: Daniel Benjamin Perez Morales -->
<!-- GitHub: https://github.com/DanielPerezMoralesDev13 -->
<!-- Correo electrónico: danielperezdev@proton.me -->

# ***Configurar los mirrors de Arch Linux***

```bash
bat /etc/pacman.d/mirrorlist
curl "https:/www.archlinux.org/mirrorlist/?country=all&protocol=http&protocol=https&ip_version=4" -o mirrorlist.txt
sudo cp ./mirrorlist.txt /etc/pacman.d/mirrorlist
```

- **`bat`:** *Comando para ver el contenido de un archivo, similar a `cat` pero mejorado.*
- **`curl`:** *Comando para descargar archivos desde la web.*

- *En el contexto de Linux y Arch Linux en particular, los "mirrors" (espejos) son servidores que alojan copias de los repositorios oficiales del sistema operativo. Los mirrors permiten a los usuarios descargar paquetes de software y actualizaciones desde servidores geográficamente más cercanos o más rápidos, mejorando así la velocidad y la eficiencia de las descargas.*

---

## ***¿Qué son los Mirrors?***

- *Los mirrors son copias idénticas de los repositorios de software que se distribuyen en varios servidores alrededor del mundo. Cada mirror contiene los mismos paquetes y versiones que el repositorio principal, permitiendo que los usuarios puedan acceder a estos recursos de manera distribuida y redundante.*

---

### ***Características y Beneficios de los Mirrors***

1. **Redundancia:** *Si un servidor mirror falla o está fuera de servicio, los usuarios pueden cambiar a otro mirror disponible, garantizando la disponibilidad continua del software y las actualizaciones.*
2. **Velocidad:** *Descargar paquetes desde un mirror cercano a tu ubicación geográfica puede ser significativamente más rápido que descargar desde un servidor remoto.*
3. **Balanceo de Carga:** *Al distribuir las solicitudes de descarga entre varios servidores, se evita la sobrecarga en un único servidor, mejorando el rendimiento general de la red de distribución.*
4. **Confiabilidad:** *Tener múltiples mirrors aumenta la confiabilidad del sistema, ya que no depende de un único punto de falla.*
5. **Actualizaciones Sincronizadas:** *Los mirrors se sincronizan regularmente con el repositorio principal, asegurando que los usuarios siempre tengan acceso a las versiones más recientes de los paquetes.*

---

### ***Configuración de Mirrors en Arch Linux***

- *En Arch Linux, la lista de mirrors se gestiona en el archivo `/etc/pacman.d/mirrorlist`. Este archivo contiene una lista de servidores mirror desde los cuales `pacman` (el gestor de paquetes de Arch Linux) puede descargar paquetes.*

---

#### ***Ejemplo de `/etc/pacman.d/mirrorlist`***

```ini
################################################################################
################# Arch Linux mirrorlist generated by Reflector #################
################################################################################

# With:       reflector @/etc/xdg/reflector/reflector.conf
# When:       2024-04-14 21:56:13 UTC
# From:       https://archlinux.org/mirrors/status/json/
# Retrieved:  2024-04-14 21:55:06 UTC
# Last Check: 2024-04-14 21:30:43 UTC

# Autor: Daniel Benjamin Perez Morales
# GitHub: https://github.com/DanielPerezMoralesDev13
# Correo electrónico: danielperezdev@proton.me

Server = https://mirror.osbeck.com/archlinux/$repo/os/$arch
Server = https://mirror.lty.me/archlinux/$repo/os/$arch
Server = https://archmirror.it/repos/$repo/os/$arch
Server = https://mirror.erickochen.nl/archlinux/$repo/os/$arch
Server = https://london.mirror.pkgbuild.com/$repo/os/$arch
Server = https://archlinux.uk.mirror.allworldit.com/archlinux/$repo/os/$arch
Server = https://mirror.moson.org/arch/$repo/os/$arch
Server = https://mirror.f4st.host/archlinux/$repo/os/$arch
Server = https://mirror.theo546.fr/archlinux/$repo/os/$arch
Server = https://mirror.ubrco.de/archlinux/$repo/os/$arch
Server = https://mirror.sunred.org/archlinux/$repo/os/$arch
Server = https://ftp.halifax.rwth-aachen.de/archlinux/$repo/os/$arch
Server = https://arch.phinau.de/$repo/os/$arch
Server = https://sydney.mirror.pkgbuild.com/$repo/os/$arch
Server = https://archlinux.za.mirror.allworldit.com/archlinux/$repo/os/$arch
Server = https://md.mirrors.hacktegic.com/archlinux/$repo/os/$arch
Server = https://archlinux.thaller.ws/$repo/os/$arch
Server = https://mirror.telepoint.bg/archlinux/$repo/os/$arch
Server = https://mirrors.neusoft.edu.cn/archlinux/$repo/os/$arch
Server = https://ftp.sh.cvut.cz/arch/$repo/os/$arch
```

---

### ***Elegir y Optimizar Mirrors***

1. **Clasificación de Mirrors:**
   - *Usa `reflector` para seleccionar automáticamente los mirrors más rápidos.*

   ```bash
   sudo pacman -Syu --noconfirm reflector
   sudo reflector --verbose --latest 10 --sort rate --save /etc/pacman.d/mirrorlist --protocol https --country <country-code>
   ```

   - **GitHub:** *No disponible*
   - **Arch Linux:** *[reflector en Arch Linux](https://archlinux.org/packages/extra/any/reflector/ "https://archlinux.org/packages/extra/any/reflector/")*

2. **Verificar Mirrors:**
   - *Asegúrate de que los mirrors estén activos y funcionando correctamente.*

   ```bash
   sudo pacman -Syu --noconfirm
   ```

### ***Pasos para Cambiar los Mirrors***

1. **Editar la Lista de Mirrors:**
   - *Edita el archivo `/etc/pacman.d/mirrorlist` con tu editor preferido.*

   ```bash
   sudo nano /etc/pacman.d/mirrorlist
   ```

2. **Ordenar y Priorizar:**
   - *Coloca los mirrors más rápidos y confiables al principio para optimizar `pacman`.*

---

### ***Herramientas Adicionales***

- **rankmirrors:** *Usa `pacman-contrib` para ordenar mirrors según su velocidad.*

   ```bash
   sudo pacman -Syu --noconfirm pacman-contrib
   rankmirrors -n 5 /etc/pacman.d/mirrorlist > /tmp/mirrorlist && sudo mv /tmp/mirrorlist /etc/pacman.d/mirrorlist
   ```

  - **GitHub:** *[pacman-contrib en GitHub](https://github.com/archlinux/pacman-contrib "https://github.com/archlinux/pacman-contrib")*
  - **Arch Linux:** *[pacman-contrib en Arch Linux](https://archlinux.org/packages/extra/x86_64/pacman-contrib/ "https://archlinux.org/packages/extra/x86_64/pacman-contrib/")*

### ***Conclusión***

- *Configurar adecuadamente los mirrors es fundamental para mejorar la velocidad de descarga y la experiencia de usuario en Arch Linux. Utiliza estas herramientas para optimizar la distribución de software y asegurar una experiencia eficiente y confiable.*
